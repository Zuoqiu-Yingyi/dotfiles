"$schema" = "https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json"

final_space = false
version = 2

[[blocks]] # ç¬¬ 1 è¡Œ (å·¦)
    type = "prompt"
    alignment = "left"

    [[blocks.segments]] # å¼•å¯¼çº¿
        type = "text"
        style = "plain"
        foreground = "#0A703E"
        template = "â•­â”€"

    [[blocks.segments]] # æ“ä½œç³»ç»Ÿå›¾æ ‡
        type = "os"
        style = "plain"
        background = "#0A703E"
        template = " {{ if .WSL }}îœ’ â† {{ end }}{{ .Icon }} "

        [blocks.segments.properties]
            # alpine = "\uf300"
            # arch = "\uf303"
            # centos = "\uf304"
            # debian = "\uf306"
            # elementary = "\uf309"
            # fedora = "\uf30a"
            # gentoo = "\uf30d"
            # linux = "\ue712"
            # macos = "\ue711"
            # manjaro = "\uf312"
            # mint = "\uf30f"
            # opensuse = "\uf314"
            # raspbian = "\uf315"
            # ubuntu = "\uf31c"
            # windows = "\ue70f"

    [[blocks.segments]] # ç”¨æˆ·å @ ä¸»æœºå
        type = "shell"
        style = "plain"
        background = "#0A703E"
        template = " {{ .UserName }}ï¼ {{ .HostName }} "

    [[blocks.segments]] # æ˜¯å¦ä¸º root ç”¨æˆ·
        type = "root"
        style = "plain"
        background = "#0A703E"
        template = "ïƒ§ "

    [[blocks.segments]] # å½“å‰ç›®å½•
        type = "path"
        style = "plain"
        background = "#256C9D"
        template = " {{ .Path }} "

        [blocks.segments.properties]
            style = "full"
            folder_separator_icon = "/"


[[blocks]] # ç¬¬ 1 è¡Œ (å³)
    type = "prompt"
    alignment = "right"

    [[blocks.segments]] # ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´
        type = "executiontime"
        style = "diamond"
        leading_diamond = "î‚¶"
        background = "#143467"

        # template = "â±ï¸  {{ .FormattedMs }}s "
        template = " {{ .FormattedMs }} s "

        [blocks.segments.properties]
            style = "dallas"
            threshold = 0

    [[blocks.segments]] # ä¸Šæ¬¡æ‰§è¡ŒçŠ¶æ€
        type = "status"
        style = "diamond"
        trailing_diamond = "î‚´"
        foreground = "#B7DFB9"
        foreground_templates = ["{{ if .Error }}#FFD599{{ end }}"]
        background = "#425347"
        background_templates = ["{{ if .Error }}#554636{{ end }}"]

        [blocks.segments.properties]
            always_enabled = true
            status_template = "{{ if eq .Code 0 }}ï˜{{ else }}ï±{{ end }}  {{ reason .Code }}"

[[blocks]] # ç¬¬ 2 è¡Œ
    type = "prompt"
    newline = true
    alignment = "left"

    [[blocks.segments]] # å¼•å¯¼çº¿
        type = "text"
        style = "plain"
        foreground = "#663D74"
        template = "â”œâ”€"

    [[blocks.segments]] # å½“å‰æ—¶é—´
        type = "time"
        style = "plain"
        background = "#663D74"
        template = " î„  {{ .CurrentDate | date .Format }} "

        [blocks.segments.properties]
            time_format = "2006-01-02 15:04:05"

    [[blocks.segments]] # å½“å‰ Git ä»“åº“çŠ¶æ€
        type = "git"
        style = "plain"
        background = "#22272E"

        # {{ .UpstreamIcon }}: è¿œç¨‹æ‰˜ç®¡å›¾æ ‡
        # {{ .RepoName }}: ä»“åº“åç§°
        # {{ .HEAD }}: åˆ†æ”¯å
        # {{ .BranchStatus }}: åˆ†æ”¯çŠ¶æ€
        # {{ if .Working.Changed }} \uf044 {{ .Working.String }}{{ end }}: å·¥ä½œåŒºå­˜åœ¨æ›´æ”¹
        # {{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}: å·¥ä½œåŒºå­˜åœ¨æ›´æ”¹ä¸”æš‚å­˜åŒºå­˜åœ¨æ›´æ”¹
        # {{ if .Staging.Changed }} \uf046 {{ .Staging.String }}{{ end }}: æš‚å­˜åŒºå­˜åœ¨æ›´æ”¹
        # {{ if gt .StashCount 0 }} \uf692 {{ .StashCount }}{{ end }}: å­˜åœ¨çš„ Stash æ•°é‡
        template = """ \
            {{ .UpstreamIcon }} \
            <b>{{ .RepoName }}</b> \
            {{ .HEAD }} \
            {{ .BranchStatus }}\
            {{ if .Working.Changed }} ï„ {{ .Working.String }}{{ end }}\
            {{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}\
            {{ if .Staging.Changed }} ï† {{ .Staging.String }}{{ end }}\
            {{ if gt .StashCount 0 }} ïš’ {{ .StashCount }}{{ end }} \
        """

        [blocks.segments.properties]
            fetch_status = true
            fetch_stash_count = true
            fetch_upstream_icon = true

    [[blocks.segments]] # å½“å‰é¡¹ç›®ä¿¡æ¯
        type = "project"
        style = "plain"
        background = "#424C50"
        template = """ \
            ï’‡ \
            {{ if .Error }}{{ .Error }}{{ else }}\
            {{ if .Name }} {{ .Name }}{{ end }}\
            {{ if .Type }} {{ .Type }}{{ end }}\
            {{ if .Version }} {{ .Version }}{{ end }}{{ end }} \
        """

[[blocks]] # ç¬¬ 3 è¡Œ
    type = "prompt"
    newline = true
    alignment = "left"

    [[blocks.segments]] # å¼•å¯¼çº¿
        type = "text"
        style = "plain"
        foreground = "#686A67"
        template = "â”œâ”€"

    # REF: https://ohmyposh.dev/docs/segments/system/sysinfo
    [[blocks.segments]] # ç³»ç»Ÿèµ„æºä¿¡æ¯
        type = "sysinfo"
        style = "powerline"
        trailing_diamond = "î‚´"
        background = "#686A67"
        template = """ \
            î‰¦  \
            {{ round .PhysicalPercentUsed .Precision }}%\
            {{ if gt .SwapTotalMemory 0 }} {{ round .SwapPercentUsed .Precision }}%{{ end }} \
        """

        [blocks.segments.properties]
            precision = 2

    # REF: https://ohmyposh.dev/docs/segments/system/battery
    [[blocks.segments]] # ç”µé‡ä¿¡æ¯
        type = "battery"
        style = "powerline"
        powerline_symbol = "î‚´"
        background_templates = [
            "{{ if eq \"Charging\" .State.String }}#40c4ff{{ end }}",
            "{{ if eq \"Discharging\" .State.String }}#ff5722{{ end }}",
            "{{ if eq \"Full\" .State.String }}#4caf50{{ end }}"
        ]
        template = "ğŸ”‹ {{ if .Error }}{{ .Error}}{{ else }}{{ .Percentage }}% {{ .Icon }}{{ end }} "

        [blocks.segments.properties]
            discharging_icon = "îˆ±"
            charging_icon = "îˆ´"
            charged_icon = "îˆ¯"

    # REF: https://ohmyposh.dev/docs/segments/languages/node
    [[blocks.segments]] # Rust ç¯å¢ƒä¿¡æ¯
        type = "rust"
        style = "diamond"
        leading_diamond = "<transparent>î‚´</>"
        trailing_diamond = "î‚´"
        background = "#000000"
        template = " î¨  <b>Rust</b> {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }} "

        [blocks.segments.properties]
            # display_mode = "always"
            home_enabled = true
            missing_command_text = ""

    # REF: https://ohmyposh.dev/docs/segments/languages/golang
    [[blocks.segments]] # Go ç¯å¢ƒä¿¡æ¯
        type = "go"
        style = "diamond"
        leading_diamond = "<transparent>î‚´</>"
        trailing_diamond = "î‚´"
        background = "#00ADD8"
        template = " î˜§  <b>Go</b> {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }} "

        [blocks.segments.properties]
            # display_mode = "always"
            home_enabled = true
            missing_command_text = ""

    # REF: https://ohmyposh.dev/docs/segments/languages/kotlin
    [[blocks.segments]] # Kotlin ç¯å¢ƒä¿¡æ¯
        type = "kotlin"
        style = "diamond"
        leading_diamond = "<transparent>î‚´</>"
        trailing_diamond = "î‚´"
        background = "#7F52FF"
        template = " <b>ï¼«</b> <b>Kotlin</b> {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }} "

        [blocks.segments.properties]
            # display_mode = "always"
            home_enabled = true
            missing_command_text = ""

    # REF: https://ohmyposh.dev/docs/segments/languages/java
    [[blocks.segments]] # Java ç¯å¢ƒä¿¡æ¯
        type = "java"
        style = "diamond"
        leading_diamond = "<transparent>î‚´</>"
        trailing_diamond = "î‚´"
        background = "#E11F21"
        template = " îœ¸  <b>Java</b> {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }} "

        [blocks.segments.properties]
            # display_mode = "always"
            home_enabled = true
            missing_command_text = ""

    # REF: https://ohmyposh.dev/docs/segments/languages/python
    [[blocks.segments]] # Python ç¯å¢ƒä¿¡æ¯
        type = "python"
        style = "diamond"
        leading_diamond = "<transparent>î‚´</>"
        trailing_diamond = "î‚´"
        background = "#3776AB"
        template = " îˆµ  <b>Python</b> {{ if .Venv }} {{ .Venv }}{{ end }}{{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }} "

        [blocks.segments.properties]
            # display_mode = "always"
            home_enabled = true
            missing_command_text = ""

            display_virtual_env = true
            display_default = true
            display_version = true

    # REF: https://ohmyposh.dev/docs/segments/languages/node
    [[blocks.segments]] # Node.js ç¯å¢ƒä¿¡æ¯
        type = "node"
        style = "diamond"
        leading_diamond = "<transparent>î‚´</>"
        trailing_diamond = "î‚´"
        background = "#5FA04E"
        template = " îœ˜  <b>Node</b> {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }} "

        [blocks.segments.properties]
            # display_mode = "always"
            home_enabled = true
            missing_command_text = ""

            fetch_package_manager = true

[[blocks]] # ç¬¬ 4 è¡Œ
    type = "prompt"
    newline = true
    alignment = "left"

    [[blocks.segments]]
        type = "text"
        style = "plain"
        foreground = "#0078D4"
        template = "â•°â”€"

    [[blocks.segments]] # Shell ä¿¡æ¯
        type = "shell"
        style = "diamond"
        leading_diamond = "î‚¶"
        trailing_diamond = "î‚°"
        foreground = "#FFFFFF"
        background = "#0078D4"

        # template = "ï’‰  {{ .Name }} {{ .Version }} âœ "
        template = "ï’‰  <b>{{ .Name }}</b> {{ .Version }} ï¡ "
